{"version":3,"sources":["script/script.js"],"names":["html","document","querySelector","orangeBtn","pinkBtn","violetBtn","redBtn","closeColorsBtn","openColorsBtn","addEventListener","style","display","setAttribute","userObject","scores","loggedUserID","localStorage","getItem","fetchUser","href","textContent","moreBtn","userBtn","menuBtn","reviewsBtn","slidedMore","slidedMenu","slidedUser","slidedReview","mediaQuery","window","matchMedia","moreSlider","matches","animation","width","innerHTML","menuSlider","visibility","userSlider","id","fetch","method","headers","then","e","json","data","populateUserInfo","user","getUserFriends","username","coins","scoreBoard","showScoresByCountry","showScoresByAge","wrapperMenu","classList","toggle","closeModal","querySelectorAll","showScores","sort","a","b","arrayOfUsers","parent","i","length","template","clone","content","cloneNode","_id","country","age","appendChild","forEach","tr","add","countryName","filteredUsers","filter","agecap","elem","remove","prevScrollpos","pageYOffset","onscroll","currentScrollPos","getElementById","top","login","getNow","checkUser","value","password","setItem","location","hash","resetGame","fetchReviews","users","review","undefined","populateReviews","imageName","starsHTML","starRate","prepend","preventDefault","removeItem","stars","children","star","colorstars","Number","target","rating","src","modifyUserObject","putReviews","editedUser","body","JSON","stringify","editedActivity","color","countryAPI","countriesArray","fetchCountries","countries","countryObj","countryAlpha2Code","name","alpha2Code","push","offerSelectOptions","selectCountry","existingOption","option","createElement","updateSelect","options","event","selectedIndex","clearSelectOptions","el","closeEditUser","closeConfirmModifications","closeModifyPassword","showUserEdit","editUser","email","k","reportValidity","checkForChanges","saveChangesTrigger","selector","selectorObject","input","showPasswordConfirmation","showModifyPassword","put","validatePasswordInput","typedPassword","passwordCheckOld","passwordCheckMatch","modifyPassword","checkValidity","game","userWin","pcWin","optionsPC","playerh","computerh","handsimg","modalWin","modalStart","restart","start","inputAmount","bet","aRound","playerHand","computerHand","winner","updateScore","checkScore","disabled","postData","startGame","betting","betAmmount","setTimeout","max","hand","generatedHand","Math","floor","random","result","dataset","fluidFriendObject","newUser","bonus_collected","friends","previous_bonus","streak","suspended","getUsers","valueInput","propertyToCheck","alert","usernameCheck","emailCheck","getInputValues","usernameInput","emailInput","passwordInput","countryInput","ageInput","postUser","offerSelectOptionsSignup","updateSelectSignup","clearSelectOptionsSignup","constructArrUsers","userFriends","split","getFriends","friend","addFriendEntry","disableButtons","border","enableButtons","reload","uuid","removeFriend","array","occurences","j","addFriendSuggestions","addFriend","suggestedUsername","parentElement","getFriend","changeStatus","currentUsername","replace","loggedInUserUsername","fluidFriends","test"],"mappings":"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","file":"script.bc8c0fa7.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\n\r\n//GAME THEME CHANGE\r\nconst html = document.querySelector(\"html\");\r\nconst orangeBtn = document.querySelector(\".orange\");\r\nconst pinkBtn = document.querySelector(\".pink\");\r\nconst violetBtn = document.querySelector(\".violet\");\r\nconst redBtn = document.querySelector(\".red\");\r\nconst closeColorsBtn = document.querySelector(\".store_close\");\r\nconst openColorsBtn = document.querySelector(\".app_rightBar-cart\");\r\n\r\nopenColorsBtn.addEventListener(\"click\", () => {\r\n  document.querySelector(\".store\").style.display = \"grid\";\r\n});\r\ncloseColorsBtn.addEventListener(\"click\", () => {\r\n  document.querySelector(\".store\").style.display = \"none\";\r\n});\r\n\r\norangeBtn.addEventListener(\"click\", () => {\r\n  html.setAttribute(\"data-attribute\", \"orange\");\r\n  document.querySelector(\".store\").style.display = \"none\";\r\n});\r\nredBtn.addEventListener(\"click\", () => {\r\n  html.setAttribute(\"data-attribute\", \"red\");\r\n  document.querySelector(\".store\").style.display = \"none\";\r\n});\r\nvioletBtn.addEventListener(\"click\", () => {\r\n  html.setAttribute(\"data-attribute\", \"violet\");\r\n  document.querySelector(\".store\").style.display = \"none\";\r\n});\r\npinkBtn.addEventListener(\"click\", () => {\r\n  html.setAttribute(\"data-attribute\", \"pink\");\r\n  document.querySelector(\".store\").style.display = \"none\";\r\n});\r\n\r\nlet loggedUserID = localStorage.getItem(\"RPSuser\");\r\n\r\n//INFO MODAL\r\ndocument.querySelector(\".app_rightBar-info\").addEventListener(\"click\", () => {\r\n  document.querySelector(\".info\").style.display = \"grid\";\r\n});\r\n\r\ndocument.querySelector(\".info_close\").addEventListener(\"click\", () => {\r\n  document.querySelector(\".info\").style.display = \"none\";\r\n});\r\n\r\nlet userObject;\r\nif (loggedUserID) {\r\n  fetchUser(loggedUserID);\r\n  document.querySelector(\".nav_user-link\").href = \"#profile\";\r\n  document.querySelector(\"#review\").style.display = \"block\";\r\n  // document.querySelector(\".link-loginSignup\").style.display = \"none\";\r\n  document.querySelector(\".menu-login\").textContent = \"see profile\";\r\n  document.querySelector(\".menu-login\").href = \"#profile\";\r\n}\r\n\r\nlet scores;\r\nconst moreBtn = document.querySelector(\".slider_right-button\");\r\nconst userBtn = document.querySelector(\".nav_user\");\r\nconst menuBtn = document.querySelector(\".wrapper\");\r\nconst reviewsBtn = document.querySelector(\".text-link\");\r\nlet slidedMore = false;\r\nlet slidedMenu = false;\r\nlet slidedUser = false;\r\nlet slidedReview = false;\r\nconst mediaQuery = window.matchMedia(\"(max-width: 900px)\");\r\n\r\nmoreBtn.addEventListener(\"click\", e => {\r\n  moreSlider(mediaQuery);\r\n});\r\n\r\n// userBtn.addEventListener(\"click\", e => {\r\n//   userSlider();\r\n// });\r\n\r\n// menuBtn.addEventListener(\"click\", e => {\r\n//   menuSlider();\r\n// });\r\n\r\ndocument.querySelector(\"#allUsers\").addEventListener(\"click\", scoreBoard);\r\ndocument\r\n  .querySelector(\"#userCountry\")\r\n  .addEventListener(\"click\", showScoresByCountry);\r\ndocument.querySelector(\"#userAge\").addEventListener(\"click\", showScoresByAge);\r\n\r\nfunction moreSlider(mediaQuery) {\r\n  if (mediaQuery.matches) {\r\n    (\"phone\");\r\n  } else {\r\n    if (!slidedMore) {\r\n      document.querySelector(\".slider\").style.animation = \"\";\r\n      document.querySelector(\".nav\").style.animation = \"\";\r\n      document.querySelector(\".slider\").style.animation =\r\n        \"sliderFullIn 0.4s ease-in-out forwards\";\r\n      // document.querySelector(\".nav\").style.animation =\r\n      //   \"navIn 0.4s ease-in forwards\";\r\n      document.querySelector(\".nav\").style.width = \"100vw\";\r\n      document.querySelector(\".seemore\").innerHTML = \"see less\";\r\n      slidedMore = true;\r\n    } else {\r\n      document.querySelector(\".slider\").style.animation = \"\";\r\n      document.querySelector(\".nav\").style.animation = \"\";\r\n      document.querySelector(\".slider\").style.animation =\r\n        \"sliderOut 0.4s ease-in-out forwards\";\r\n      // document.querySelector(\".nav\").style.animation =\r\n      //   \"navOut 0.4s ease-in forwards\";\r\n      document.querySelector(\".nav\").style.width = \"32vw\";\r\n      document.querySelector(\".seemore\").innerHTML = \"see more\";\r\n      slidedMore = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction menuSlider() {\r\n  if (!slidedMenu) {\r\n    document.querySelector(\".menu\").style.visibility = \"visible\";\r\n    slidedMenu = true;\r\n  } else {\r\n    document.querySelector(\".menu\").style.visibility = \"hidden\";\r\n    slidedMenu = false;\r\n  }\r\n}\r\n\r\nfunction userSlider() {\r\n  if (!slidedUser) {\r\n    slidedUser = true;\r\n    if (loggedUserID) {\r\n      document.querySelector(\".profile\").style.visibility = \"visible\";\r\n    } else {\r\n      document.querySelector(\".login\").style.visibility = \"visible\";\r\n    }\r\n  } else {\r\n    document.querySelector(\".profile\").style.visibility = \"hidden\";\r\n    document.querySelector(\".login\").style.visibility = \"hidden\";\r\n    slidedUser = false;\r\n  }\r\n}\r\n\r\nfunction fetchUser(id) {\r\n  fetch(`https://rpsexam-61a3.restdb.io/rest/registeredusers/${id}`, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      userObject = data;\r\n      populateUserInfo(userObject);\r\n    });\r\n}\r\n\r\n// use THIS function to use user data model on loading stuff on page\r\nfunction populateUserInfo(user) {\r\n  getUserFriends();\r\n  document.querySelector(\".profile_user-name\").textContent = user.username;\r\n  document.querySelector(\"#friends > div > div.profile_user > h2\").textContent =\r\n    user.username;\r\n  document.querySelector(\".profile_user-points\").textContent =\r\n    \"$ \" + user.coins;\r\n  document.querySelector(\"#friends > div > div.profile_user > p\").textContent =\r\n    \"$ \" + user.coins;\r\n  document.querySelector(\".app_player-name\").textContent = user.username;\r\n  document.querySelector(\".app_player-coins span\").textContent = user.coins;\r\n  document.querySelector(\"div.app_player\").style.display = \"block\";\r\n  document\r\n    .querySelector(\".modal_start_body-logged-input\")\r\n    .setAttribute(\"max\", user.coins);\r\n  document.querySelector(\"div.highscore_sorting\").style.display = \"block\";\r\n  if (user.username == \"admin\") {\r\n    document.querySelector(\"#admin_list\").style.display = \"inline-block\";\r\n    document.querySelector(\".admin_panel\").style.display = \"inline-block\";\r\n  } else {\r\n    document.querySelector(\"#admin_list\").style.display = \"none\";\r\n    document.querySelector(\".admin_panel\").style.display = \"none\";\r\n  }\r\n}\r\n\r\n//CLOSING MODAL WITH THE X\r\nconst wrapperMenu = document.querySelector(\".wrapper\");\r\n\r\nwrapperMenu.addEventListener(\"click\", () => {\r\n  wrapperMenu.classList.toggle(\"open\");\r\n});\r\n\r\nconst closeModal = document.querySelectorAll(\".u-close\");\r\ncloseModal.forEach(elem => {\r\n  elem.addEventListener(\"click\", () => {\r\n    wrapperMenu.classList.toggle(\"open\");\r\n  });\r\n});\r\n\r\ndocument.querySelector(\".link-loginSignup\").addEventListener(\"click\", () => {\r\n  wrapperMenu.classList.toggle(\"open\");\r\n  document.querySelector(\"#person\").classList.add(\"hidden\");\r\n  document.querySelector(\"#person1\").classList.remove(\"hidden\");\r\n});\r\n\r\ndocument\r\n  .querySelector(\".modal_winner_body_notlogged_buttons-login\")\r\n  .addEventListener(\"click\", () => {\r\n    document.querySelector(\"#person\").classList.add(\"hidden\");\r\n    document.querySelector(\"#person1\").classList.remove(\"hidden\");\r\n  });\r\n\r\ndocument\r\n  .querySelector(\".modal_winner_body_notlogged_buttons-signup\")\r\n  .addEventListener(\"click\", () => {\r\n    document.querySelector(\"#person\").classList.add(\"hidden\");\r\n    document.querySelector(\"#person1\").classList.remove(\"hidden\");\r\n  });\r\n\r\n//SCORE BOARD\r\ndocument.querySelector(\".link-highscore > a\").addEventListener(\"click\", e => {\r\n  scoreBoard();\r\n});\r\n\r\nfunction scoreBoard() {\r\n  fetch(`https://rpsexam-61a3.restdb.io/rest/registeredusers`, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      scores = data.sort((a, b) => (a.coins < b.coins ? 1 : -1));\r\n      showScores(scores);\r\n    });\r\n}\r\n\r\nfunction showScores(arrayOfUsers) {\r\n  const parent = document.querySelector(\".highscoreParent\");\r\n  parent.innerHTML = \" \";\r\n  for (let i = 0; i <= 9; i++) {\r\n    if (arrayOfUsers.length < 9) {\r\n      if (i == arrayOfUsers.length) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    const template = document.querySelector(\"#scoreBoard\").content;\r\n    const clone = template.cloneNode(true);\r\n    clone.querySelector(\"tr\").id = arrayOfUsers[i]._id;\r\n    clone.querySelector(\".place\").textContent = i + 1;\r\n    clone.querySelector(\".name\").textContent = arrayOfUsers[i].username;\r\n    clone.querySelector(\".score\").textContent = arrayOfUsers[i].coins;\r\n    clone.querySelector(\".country\").textContent = arrayOfUsers[i].country;\r\n    clone.querySelector(\".age\").textContent = arrayOfUsers[i].age;\r\n    parent.appendChild(clone);\r\n  }\r\n  if (loggedUserID) {\r\n    for (let i = 0; i < arrayOfUsers.length; i++) {\r\n      if (loggedUserID == arrayOfUsers[i]._id) {\r\n        if (i < 10) {\r\n          let list = document.querySelectorAll(\"tr\");\r\n          list.forEach(tr => {\r\n            if (tr.id == loggedUserID) {\r\n              tr.classList.add(\"you\");\r\n            }\r\n          });\r\n        } else {\r\n          const template = document.querySelector(\"#scoreBoard\").content;\r\n          const clone = template.cloneNode(true);\r\n          clone.querySelector(\"tr\").classList.add(\"you\");\r\n          clone.querySelector(\".place\").textContent = i + 1;\r\n          clone.querySelector(\".name\").textContent = arrayOfUsers[i].username;\r\n          clone.querySelector(\".score\").textContent = arrayOfUsers[i].coins;\r\n          clone.querySelector(\".country\").textContent = arrayOfUsers[i].country;\r\n          clone.querySelector(\".age\").textContent = arrayOfUsers[i].age;\r\n          parent.appendChild(clone);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction showScoresByCountry() {\r\n  let countryName;\r\n  const parent = document.querySelector(\".highscoreParent\");\r\n  parent.innerHTML = \" \";\r\n  fetch(`https://rpsexam-61a3.restdb.io/rest/registeredusers`, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (loggedUserID == data[i]._id) {\r\n          countryName = data[i].country;\r\n        }\r\n      }\r\n      let filteredUsers = data.filter(function(user) {\r\n        return user.country == countryName;\r\n      });\r\n      filteredUsers = filteredUsers.sort((a, b) =>\r\n        a.coins < b.coins ? 1 : -1\r\n      );\r\n      showScores(filteredUsers);\r\n    });\r\n}\r\n\r\nfunction showScoresByAge() {\r\n  let agecap;\r\n  const parent = document.querySelector(\".highscoreParent\");\r\n  parent.innerHTML = \" \";\r\n  fetch(`https://rpsexam-61a3.restdb.io/rest/registeredusers`, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (loggedUserID == data[i]._id) {\r\n          agecap = data[i].age;\r\n        }\r\n      }\r\n      let filteredUsers = data.filter(function(user) {\r\n        return user.age == agecap;\r\n      });\r\n      filteredUsers = filteredUsers.sort((a, b) =>\r\n        a.coins < b.coins ? 1 : -1\r\n      );\r\n      showScores(filteredUsers);\r\n    });\r\n}\r\n\r\ndocument.querySelector(\".nav_user-link\").addEventListener(\"click\", () => {\r\n  document.querySelector(\"#person\").classList.add(\"hidden\");\r\n  document.querySelector(\"#personclose\").classList.remove(\"hidden\");\r\n});\r\n\r\ndocument.querySelectorAll(\".u-close-right\").forEach(elem => {\r\n  elem.addEventListener(\"click\", () => {\r\n    document.querySelector(\"#person\").classList.remove(\"hidden\");\r\n    document.querySelector(\"#personclose\").classList.add(\"hidden\");\r\n  });\r\n});\r\n\r\nvar prevScrollpos = window.pageYOffset;\r\nwindow.onscroll = function() {\r\n  var currentScrollPos = window.pageYOffset;\r\n  if (prevScrollpos > currentScrollPos) {\r\n    document.getElementById(\"logoOut\").style.top = \"0\";\r\n  } else {\r\n    document.getElementById(\"logoOut\").style.top = \"-50px\";\r\n  }\r\n  prevScrollpos = currentScrollPos;\r\n};\r\n\r\n(\"use strict\");\r\n\r\nlet login = document.querySelector(\"button.login_form-button.button\");\r\n\r\nlogin.addEventListener(\"click\", e => {\r\n  e.preventDefault();\r\n  getNow();\r\n});\r\n\r\n//gets all users when you click login\r\n\r\nfunction getNow() {\r\n  fetch(\"https://rpsexam-61a3.restdb.io/rest/registeredusers\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      checkUser(data);\r\n      //console.log(data);\r\n    });\r\n}\r\n\r\n//checks if enetred credentials are correct\r\n\r\nfunction checkUser(data) {\r\n  let username = document.querySelector(\"#login_username\").value;\r\n  let password = document.querySelector(\"#login_password\").value;\r\n  for (let i = 0; i < data.length; i++) {\r\n    if (username == data[i].username) {\r\n      if (password == data[i].password) {\r\n        userObject = data[i];\r\n        localStorage.setItem(\"RPSuser\", data[i]._id);\r\n        loggedUserID = localStorage.getItem(\"RPSuser\");\r\n        document.querySelector(\"#login_password\").value = \"\";\r\n        document.querySelector(\"#login_username\").value = \"\";\r\n        window.location.hash = \"#profile\";\r\n        document.querySelector(\".link-loginSignup\").style.display = \"none\";\r\n        document.querySelector(\".modal_winner_body_notlogged\").style.display =\r\n          \"none\";\r\n        document.querySelector(\".modal_winner_body_logged\").style.display =\r\n          \"block\";\r\n        populateUserInfo(data[i]);\r\n        document.querySelector(\".modal_start_body-trial\").style.display =\r\n          \"none\";\r\n        document.querySelector(\".modal_start_body-logged\").style.display =\r\n          \"block\";\r\n        document.querySelector(\".nav_user-link\").href = \"#profile\";\r\n        document.querySelector(\"#review\").style.display = \"block\";\r\n        document.querySelector(\"div.highscore_sorting\").style.display = \"block\";\r\n        resetGame();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//Logout user and clear local storage\r\n\r\ndocument.querySelector(\".logOut\").addEventListener(\"click\", e => {\r\n  localStorage.removeItem(\"RPSuser\");\r\n  loggedUserID = undefined;\r\n  userObject = undefined;\r\n\r\n  window.location.hash = \"#login\";\r\n  document.querySelector(\".link-loginSignup\").style.display = \"list-item\";\r\n  document.querySelector(\".highscore_sorting\").style.display = \"none\";\r\n  resetGame();\r\n  document.querySelector(\"div.app_player\").style.display = \"none\";\r\n  document.querySelector(\".modal_start_body-trial\").style.display = \"block\";\r\n  document.querySelector(\".modal_start_body-logged\").style.display = \"none\";\r\n  document.querySelector(\".app-bet\").style.visibility = \"hidden\";\r\n  document.querySelector(\".nav_user-link\").href = \"#login\";\r\n  document.querySelector(\"#review\").style.display = \"none\";\r\n});\r\n\r\n//EVENT LISTENER FOR OPENING SIGN UP PAGE\r\ndocument.querySelector(\".login_form-signup\").addEventListener(\"click\", e => {\r\n  e.preventDefault;\r\n  window.location.hash = \"#signup\";\r\n  document.querySelector(\"div.highscore_sorting\").style.display = \"none\";\r\n});\r\n\r\n(\"use strict\");\r\n\r\n// Fetching the reviews from the database\r\n\r\nfunction fetchReviews() {\r\n  fetch(`https://rpsexam-61a3.restdb.io/rest/registeredusers`, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(users => {\r\n      // Check if the user posted a review and if he has execute fc\r\n\r\n      users.forEach(user => {\r\n        if (user.review != \"\") {\r\n          if (user.review != undefined) {\r\n            populateReviews(user);\r\n          }\r\n        }\r\n      });\r\n    });\r\n}\r\n\r\n// Use this to randomize avatar names and send them to the db\r\n// Cannot be generated automatically as db is limited in this regard\r\n\r\n// for (let i = 0; i < users.length; i++) {\r\n//   let randomNum = Math.floor(Math.random() * 3) + 1;\r\n//   users[i].imageName = 'avatar-' + randomNum;\r\n//   put(users[i]);\r\n// }\r\n\r\n// Use the standard review template and append the data\r\n// for each user to it\r\n\r\nfunction populateReviews(user) {\r\n  let parent = document.querySelector(\".reviews_see\");\r\n  let template = document.querySelector(\".review-template\").content;\r\n  let clone = template.cloneNode(true);\r\n  clone.querySelector(\".avatarUser\").textContent = user.imageName;\r\n  clone.querySelector(\".usernameUser\").textContent = \"~ \" + user.username;\r\n  let starsHTML = \"\";\r\n  for (let i = 0; i < user.starRate; i++) {\r\n    starsHTML += '<img src=\"/images/star_full.png\" alt=\"Star Rate\"/>';\r\n  }\r\n  for (let i = 0; i < 5 - user.starRate; i++) {\r\n    starsHTML += '<img src=\"/images/star_empty.png\" alt=\"Star Rate\"/>';\r\n  }\r\n  clone.querySelector(\".starUser\").innerHTML = starsHTML;\r\n  clone.querySelector(\".reviewUser\").textContent = user.review;\r\n  parent.prepend(clone);\r\n}\r\n\r\nfetchReviews();\r\n\r\n// Increasing and decreasing star rate by click\r\n\r\nlet stars = document.querySelector(\".stars\").children;\r\n\r\nfor (let star of stars) {\r\n  star.addEventListener(\"click\", e => {\r\n    for (let star of stars) {\r\n      star.classList.remove(\"full\");\r\n    }\r\n    const rate = Number(e.target.classList[1]);\r\n    colorstars(rate);\r\n  });\r\n}\r\n\r\nfunction colorstars(rating) {\r\n  for (let i = 0; i < rating; i++) {\r\n    stars[i].classList.add(\"full\");\r\n  }\r\n  for (let star of stars) {\r\n    if (star.classList[2] == \"full\") {\r\n      star.src = \"/images/star_full.png\";\r\n    } else {\r\n      star.src = \"/images/star_empty.png\";\r\n    }\r\n  }\r\n}\r\n\r\ndocument.querySelector(\".reviews_add-post\").addEventListener(\"click\", e => {\r\n  e.preventDefault();\r\n  modifyUserObject();\r\n  e.target.textContent = \"posted\";\r\n  e.target.style.color = \"#7186f5\";\r\n  document.querySelector(\"#review > textarea\").value = \" \";\r\n  for (let star of stars) {\r\n    star.classList.remove(\"full\");\r\n    star.src = \"/images/star_empty.png\";\r\n  }\r\n  document.querySelector(\"textarea\").style.color = \"rgba(255, 255, 255, 0.4)\";\r\n});\r\n\r\n// Modifying the saved user object's variables - starRate and review\r\n\r\nfunction modifyUserObject() {\r\n  let starRate = document.querySelectorAll(\".full\").length;\r\n  userObject.starRate = starRate;\r\n  userObject.review = document.querySelector(\".reviews_add-input\").value;\r\n  putReviews(userObject);\r\n}\r\n\r\n// Function to send the modified user to the database\r\n\r\nfunction putReviews(editedUser) {\r\n  fetch(\r\n    \"https://rpsexam-61a3.restdb.io/rest/registeredusers/\" + editedUser._id,\r\n    {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n        \"cache-control\": \"no-cache\"\r\n      },\r\n      body: JSON.stringify(editedUser)\r\n    }\r\n  )\r\n    .then(e => e.json())\r\n    .then(editedActivity => {\r\n      // When modified user data is back from the database we give it as a\r\n      // parameter to the function that creates the review\r\n\r\n      populateReviews(editedActivity);\r\n    });\r\n}\r\n\r\n(\"use strict\");\r\n\r\n//get();\r\n\r\n// Fetch the country API in order to populate the select form element\r\nconst countryAPI = \"https://restcountries.eu/rest/v2/all\";\r\n\r\n// Global declaration in order to be able to always access it\r\nlet countriesArray = [];\r\n\r\nfunction fetchCountries() {\r\n  fetch(countryAPI)\r\n    .then(e => e.json())\r\n    .then(countries => {\r\n      countries.forEach(country => {\r\n        let countryObj = {\r\n          countryName: \"\",\r\n          countryAlpha2Code: \"\"\r\n        };\r\n\r\n        // Push data to the array of objects\r\n\r\n        countryObj.countryName = country.name;\r\n        countryObj.countryAlpha2Code = country.alpha2Code;\r\n        countriesArray.push(countryObj);\r\n      });\r\n    });\r\n}\r\n\r\nfetchCountries();\r\n\r\n// Populate select with option elements with the values and text content\r\n// set from the countries array\r\n\r\nfunction offerSelectOptions() {\r\n  let selectCountry = document.querySelector(\".select_form-country select\");\r\n  let existingOption = document.querySelector(\".option_form-country\").value;\r\n  for (let i = 0; i < countriesArray.length; i++) {\r\n    let option = document.createElement(\"option\");\r\n    // Compare to exclude already existing option\r\n    if (countriesArray[i].countryName != existingOption) {\r\n      option.setAttribute(\"value\", countriesArray[i].countryName);\r\n      option.textContent = countriesArray[i].countryName;\r\n      option.classList.add(\"fluidCountry\");\r\n      selectCountry.appendChild(option);\r\n    }\r\n  }\r\n}\r\n\r\ndocument\r\n  .querySelector(\".select_form-country select\")\r\n  .addEventListener(\"change\", updateSelect);\r\n\r\n// On each change update the classes on option elements so that they can be cleared out\r\n\r\nfunction updateSelect() {\r\n  let options = document.querySelectorAll(\".select_form-country option\");\r\n  document\r\n    .querySelector(\".option_form-country\")\r\n    .classList.remove(\"option_form-country\");\r\n  options[event.target.selectedIndex].classList.remove(\"fluidCountry\");\r\n  options[event.target.selectedIndex].classList.add(\"option_form-country\");\r\n}\r\n\r\nfunction clearSelectOptions() {\r\n  document.querySelectorAll(\".fluidCountry\").forEach(el => el.remove());\r\n}\r\n\r\n// Add event listeners to edit profile options\r\n\r\ndocument.querySelector(\".edit-profile\").addEventListener(\"click\", showUserEdit);\r\ndocument\r\n  .querySelector(\".editUser_form-login_back\")\r\n  .addEventListener(\"click\", closeEditUser);\r\ndocument\r\n  .querySelector(\".confirmModifications_form-login_back\")\r\n  .addEventListener(\"click\", closeConfirmModifications);\r\ndocument\r\n  .querySelector(\".modifyPassword_form-login_back\")\r\n  .addEventListener(\"click\", closeModifyPassword);\r\n\r\nfunction closeEditUser() {\r\n  document.querySelector(\".editUser\").style.display = \"none\";\r\n\r\n  document.querySelector(\"#editUser_username\").value = \"\";\r\n  document.querySelector(\"#editUser_email\").value = \"\";\r\n  document.querySelector(\"#editUser_age\").value = \"\";\r\n\r\n  // Link to a different section of the page\r\n\r\n  window.location.hash = \"#profile\";\r\n  clearSelectOptions();\r\n  document.querySelector(\".editUser_paragraph-alertNoModifs\").style.display =\r\n    \"none\";\r\n}\r\n\r\nfunction closeConfirmModifications() {\r\n  document.querySelector(\".confirmModifications\").style.display = \"none\";\r\n}\r\n\r\nfunction closeModifyPassword() {\r\n  document.querySelector(\".modifyPassword\").style.display = \"none\";\r\n  document.querySelector(\".modifyPassword_paragraph-alert\").style.display =\r\n    \"none\";\r\n}\r\n\r\n// console.log(userObject);\r\n\r\n// Populate the form with already existent info about the logged in user\r\n\r\nfunction showUserEdit() {\r\n  let editUser = document.querySelector(\".editUser\");\r\n  editUser.style.display = \"block\";\r\n  editUser\r\n    .querySelector(\".editUser_form-username input\")\r\n    .setAttribute(\"placeholder\", userObject.username);\r\n  editUser\r\n    .querySelector(\".editUser_form-email input\")\r\n    .setAttribute(\"placeholder\", userObject.email);\r\n  editUser\r\n    .querySelector(\".option_form-country\")\r\n    .setAttribute(\"value\", userObject.country);\r\n  editUser.querySelector(\".option_form-country\").textContent =\r\n    userObject.country;\r\n  editUser\r\n    .querySelector(\".editUser_form-age input\")\r\n    .setAttribute(\"placeholder\", userObject.age);\r\n  offerSelectOptions();\r\n}\r\n\r\ndocument.querySelector(\".editUser_form-login\").addEventListener(\"click\", e => {\r\n  // Check for form validity manually\r\n  e.preventDefault();\r\n  let k = 0;\r\n  let selector = [\r\n    \".editUser_form-username input\",\r\n    \".editUser_form-email input\",\r\n    \".option_form-country\",\r\n    \".editUser_form-age input\"\r\n  ];\r\n  selector.forEach(el => {\r\n    if (document.querySelector(el).value == \"\") {\r\n      k++;\r\n    }\r\n  });\r\n  if (k == 3) {\r\n    document.querySelector(\".editUser_form\").reportValidity();\r\n  } else {\r\n    checkForChanges();\r\n  }\r\n});\r\n\r\nlet saveChangesTrigger = false;\r\n\r\n// If there's valid input, check for values differences\r\n\r\nfunction checkForChanges() {\r\n  let selector = [\r\n    \".editUser_form-username input\",\r\n    \".editUser_form-email input\",\r\n    \".option_form-country\",\r\n    \".editUser_form-age input\"\r\n  ];\r\n  let selectorObject = [\"username\", \"email\", \"country\", \"age\"];\r\n  for (let i = 0; i < 4; i++) {\r\n    if (\r\n      document.querySelector(selector[i]).value != \"\" &&\r\n      document.querySelector(selector[i]).value != userObject[selectorObject[i]]\r\n    ) {\r\n      // If there are values differences update the saved user object with them\r\n      userObject[selectorObject[i]] = document.querySelector(selector[i]).value;\r\n      // and store true in variable in order to be later on used\r\n      saveChangesTrigger = true;\r\n    } else if (\r\n      document.querySelector(selector[i]).value == userObject[selectorObject[i]]\r\n    ) {\r\n      document.querySelector(selector[i]).input = document.querySelector(\r\n        selector[i]\r\n      ).value;\r\n    }\r\n  }\r\n  if (saveChangesTrigger == false) {\r\n    document.querySelector(\".editUser_paragraph-alertNoModifs\").style.display =\r\n      \"block\";\r\n  } else {\r\n    // If variable is true show password confirmation window\r\n    showPasswordConfirmation();\r\n  }\r\n}\r\n\r\n// Modify the password\r\n\r\ndocument\r\n  .querySelector(\".editUser_paragraph-modifyPassword\")\r\n  .addEventListener(\"click\", showModifyPassword);\r\n\r\nfunction showModifyPassword() {\r\n  document.querySelector(\".modifyPassword\").style.display = \"block\";\r\n}\r\n\r\n// Edit the user\r\n\r\nfunction put(editedUser) {\r\n  fetch(\r\n    \"https://rpsexam-61a3.restdb.io/rest/registeredusers/\" + editedUser._id,\r\n    {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n        \"cache-control\": \"no-cache\"\r\n      },\r\n      body: JSON.stringify(editedUser)\r\n    }\r\n  )\r\n    .then(e => e.json())\r\n    .then(editedActivity => {\r\n      document.querySelector(\".modal-confirm\").style.display = \"none\";\r\n    });\r\n}\r\n\r\nfunction showPasswordConfirmation() {\r\n  document.querySelector(\".editUser\").style.display = \"none\";\r\n  document.querySelector(\".confirmModifications\").style.display = \"block\";\r\n}\r\n\r\ndocument\r\n  .querySelector(\".confirmModifications_form-login\")\r\n  .addEventListener(\"click\", e => {\r\n    e.preventDefault();\r\n    // If the confirm button is clicked check for password match\r\n    // from the input and the database\r\n    validatePasswordInput();\r\n  });\r\n\r\n// Validate with password for profile modifications\r\n\r\nfunction validatePasswordInput() {\r\n  let typedPassword = document.querySelector(\r\n    \".confirmModifications_form-password input\"\r\n  ).value;\r\n  if (userObject.password == typedPassword) {\r\n    // If there is a match the user is updated in the website\r\n\r\n    populateUserInfo(userObject);\r\n\r\n    // The user is updated in the database\r\n\r\n    put(userObject);\r\n    document.querySelector(\".modal-confirm\").style.display = \"block\";\r\n    closeConfirmModifications();\r\n  } else {\r\n    document.querySelector(\r\n      \".confirmModifications_paragraph-alertWrongPass\"\r\n    ).style.display = \"block\";\r\n  }\r\n}\r\n\r\n// Changing password section\r\n\r\ndocument\r\n  .querySelector(\".modifyPassword_form-login\")\r\n  .addEventListener(\"click\", e => {\r\n    e.preventDefault();\r\n\r\n    // Check for validation manually due to preventDefault()\r\n\r\n    if (document.querySelector(\".modifyPassword_form\").checkValidity()) {\r\n      passwordCheckOld();\r\n    } else {\r\n      document.querySelector(\".modifyPassword_form\").reportValidity();\r\n    }\r\n  });\r\n\r\n// Display customized error messages depending on the user's mistake\r\n\r\nfunction passwordCheckOld() {\r\n  if (\r\n    document.querySelector(\".modifyPassword_form-password input\").value ==\r\n    userObject.password\r\n  ) {\r\n    passwordCheckMatch();\r\n  } else {\r\n    document.querySelector(\".modifyPassword_paragraph-alert\").style.display =\r\n      \"block\";\r\n    document.querySelector(\".modifyPassword_paragraph-alert\").textContent =\r\n      \"Wrong old password\";\r\n  }\r\n}\r\n\r\nfunction passwordCheckMatch() {\r\n  if (\r\n    document.querySelector(\".modifyPassword_form-password_new input\").value !=\r\n      \"\" ||\r\n    document.querySelector(\".modifyPassword_form-password_new-retype input\")\r\n      .value != \"\" ||\r\n    (document.querySelector(\".modifyPassword_form-password_new-retype input\")\r\n      .value != \"\" &&\r\n      document.querySelector(\".modifyPassword_form-password_new input\").value !=\r\n        \"\")\r\n  ) {\r\n    if (\r\n      document.querySelector(\".modifyPassword_form-password_new input\").value ==\r\n      document.querySelector(\".modifyPassword_form-password_new-retype input\")\r\n        .value\r\n    ) {\r\n      modifyPassword();\r\n    } else {\r\n      document.querySelector(\".modifyPassword_paragraph-alert\").style.display =\r\n        \"block\";\r\n      document.querySelector(\".modifyPassword_paragraph-alert\").textContent =\r\n        \"No match between passwords :(\";\r\n    }\r\n  } else {\r\n    document.querySelector(\".modifyPassword_paragraph-alert\").style.display =\r\n      \"block\";\r\n    document.querySelector(\".modifyPassword_paragraph-alert\").textContent =\r\n      \"Please type in the new passwords :) \";\r\n  }\r\n}\r\n\r\nfunction modifyPassword() {\r\n  userObject.password = document.querySelector(\r\n    \".modifyPassword_form-password_new input\"\r\n  ).value;\r\n\r\n  // If everything checks send the user to the db and close window\r\n\r\n  put(userObject);\r\n  closeModifyPassword();\r\n  document.querySelector(\".modal-confirm\").style.display = \"block\";\r\n}\r\n\r\n(\"useStrict\");\r\n\r\nif (loggedUserID) {\r\n  document.querySelector(\"div.app_player\").style.display = \"block\";\r\n  document.querySelector(\".modal_start_body-logged\").style.display = \"block\";\r\n} else {\r\n  document.querySelector(\".modal_start_body-trial\").style.display = \"block\";\r\n}\r\n\r\nconst game = {\r\n  userWin: 0,\r\n  pcWin: 0\r\n};\r\n\r\nlet optionsPC = [\r\n  \"Rock\",\r\n  \"Paper\",\r\n  \"Scissors\",\r\n  \"Lizard\",\r\n  \"Spock\",\r\n  \"Spider-man\",\r\n  \"Batman\",\r\n  \"Wizard\",\r\n  \"Glock\"\r\n];\r\n\r\nconst playerh = document.querySelector(\"div.userhimg > img\");\r\nconst computerh = document.querySelector(\"div.pchimg > img\");\r\nconst options = document.querySelectorAll(\".app_options button\");\r\nconst handsimg = document.querySelectorAll(\".handsimg img\");\r\nconst modalWin = document.querySelector(\".modal_winner\");\r\nconst modalStart = document.querySelector(\".modal_start\");\r\nconst restart = document.querySelector(\".modal_winner_body_logged-restart\");\r\nconst start = document.querySelector(\".modal_start_body-buton\");\r\nconst inputAmount = document.querySelector(\".modal_start_body-logged-input\");\r\nconst bet = document.querySelector(\".app-bet\");\r\n\r\nrestart.addEventListener(\"click\", resetGame);\r\n\r\nstart.addEventListener(\"click\", e => {\r\n  if (loggedUserID) {\r\n    if (userObject.coins > 0) {\r\n      startGame();\r\n    }\r\n  } else {\r\n    startGame();\r\n  }\r\n});\r\n\r\ndocument\r\n  .querySelector(\".modal_winner_body_notlogged_buttons-login\")\r\n  .addEventListener(\"click\", e => {\r\n    window.location.hash = \"#login\";\r\n  });\r\n\r\ndocument\r\n  .querySelector(\".modal_start_body-logged-up\")\r\n  .addEventListener(\"click\", () => {\r\n    if (Number(inputAmount.value) == inputAmount.max) {\r\n    } else {\r\n      inputAmount.value = Number(inputAmount.value) + 10;\r\n    }\r\n  });\r\n\r\ndocument\r\n  .querySelector(\".modal_start_body-logged-down\")\r\n  .addEventListener(\"click\", () => {\r\n    if (Number(inputAmount.value) == 10) {\r\n    } else {\r\n      inputAmount.value = Number(inputAmount.value) - 10;\r\n    }\r\n  });\r\n\r\nhandsimg.forEach(hand => {\r\n  hand.addEventListener(\"animationend\", function() {\r\n    this.style.animation = \"\";\r\n  });\r\n});\r\n\r\noptions.forEach(option => {\r\n  option.disabled = true;\r\n  option.addEventListener(\"click\", function() {\r\n    options.forEach(e => {\r\n      e.disabled = true;\r\n    });\r\n    let generatedHand = optionsPC[Math.floor(Math.random() * 8)];\r\n    let result = null;\r\n\r\n    setTimeout(() => {\r\n      playerh.src = `/hands/hand_${\r\n        option.querySelector(\"svg\").dataset.name\r\n      }.svg`;\r\n      computerh.src = `/hands/hand_${generatedHand}.svg`;\r\n\r\n      result = aRound(option.querySelector(\"svg\").dataset.name, generatedHand);\r\n\r\n      if (result === \"win\") {\r\n        game.userWin++;\r\n        updateScore();\r\n      } else if (result === \"loss\") {\r\n        game.pcWin++;\r\n        updateScore();\r\n      }\r\n      options.forEach(e => {\r\n        e.disabled = false;\r\n      });\r\n      setTimeout(() => {\r\n        checkScore();\r\n      }, 200);\r\n    }, 2000);\r\n\r\n    playerh.style.animation = \"shakePlayer 2s ease\";\r\n    computerh.style.animation = \"shakeComputer 2s ease\";\r\n  });\r\n});\r\n\r\nfunction aRound(playerHand, computerHand) {\r\n  const winner = document.querySelector(\".app_result\");\r\n\r\n  document.querySelector(\".userh span\").textContent = playerHand;\r\n  document.querySelector(\".pch span\").textContent = computerHand;\r\n\r\n  winner.style.visibility = \"visible\";\r\n  if (playerHand === computerHand) {\r\n    winner.textContent = \"It is a tie!\";\r\n    return;\r\n  }\r\n  if (playerHand === \"Rock\") {\r\n    if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Paper covers rock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Rock crushes scissors.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Rock crushes lizard\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Spock vaporizes rock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Rock knocks out spider-man.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Batman explodes rock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Rock interrupts wizard.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Glock breaks rock.\";\r\n      return \"loss\";\r\n    }\r\n  } else if (playerHand === \"Paper\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Paper covers rock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Scissors cut paper.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Lizard eats paper.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Paper disproves spock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Spider-man rips paper.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Paper delays batman.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Wizard burns paper\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Paper jams glock.\";\r\n      return \"win\";\r\n    }\r\n  } else if (playerHand === \"Scissors\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Rock crushes scissors.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Scissors cut paper.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Scissors decapitates lizard.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Spock smashes scissors.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Scissors cut spider-man.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Batman dismantles scissors.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Scissors stabs wizard.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Glock dents scissors.\";\r\n      return \"loss\";\r\n    }\r\n  } else if (playerHand === \"Lizard\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Rock crushes lizard\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Lizard eats paper.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Scissors decapitates lizard.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Lizard poisons spock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Spider-man defeats lizard.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Lizard confuses batman.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Wizard transforms lizard.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Lizard is too small for glock\";\r\n      return \"win\";\r\n    }\r\n  } else if (playerHand === \"Spock\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Spock vaporizes rock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Paper disproves spock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Spock smashes scissors.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Lizard poisons spock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Spock befuddles spider-man\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Batman hangs Spock\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Spock zaps wizard\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Glock shoots spock.\";\r\n      return \"loss\";\r\n    }\r\n  } else if (playerHand === \"Spider-man\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Rock knocks out spider-man.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Spider-man rips paper.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Scissors cut spider-man.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Spider-man defeats lizard.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Spock befuddles spider-man\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Batman scares spider-man\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Spider-man annoys wizard.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Spider-man disarms glock.\";\r\n      return \"win\";\r\n    }\r\n  } else if (playerHand === \"Batman\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Batman explodes rock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Paper delays batman.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Batman dismantles scissors.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Lizard confuses batman.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Batman hangs Spock\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Batman scares spider-man\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Wizard stuns batman.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Glock shoots batman's mom\";\r\n      return \"loss\";\r\n    }\r\n  } else if (playerHand === \"Wizard\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Rock interrupts wizard.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Wizard burns paper\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Scissors stabs wizard.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Wizard transforms lizard.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Spock zaps wizard\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Spider-man annoys wizard.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Wizard stuns batman.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Glock\") {\r\n      winner.textContent = \"Wizard melts glock.\";\r\n      return \"win\";\r\n    }\r\n  } else if (playerHand === \"Glock\") {\r\n    if (computerHand === \"Rock\") {\r\n      winner.textContent = \"Glock breaks rock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Paper\") {\r\n      winner.textContent = \"Paper jams glock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Scissors\") {\r\n      winner.textContent = \"Glock dents scissors.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Lizard\") {\r\n      winner.textContent = \"Lizard is too small for glock\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Spock\") {\r\n      winner.textContent = \"Glock shoots spock.\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Spider-man\") {\r\n      winner.textContent = \"Spider-man disarms glock.\";\r\n      return \"loss\";\r\n    } else if (computerHand === \"Batman\") {\r\n      winner.textContent = \"Glock shoots batman's mom\";\r\n      return \"win\";\r\n    } else if (computerHand === \"Wizard\") {\r\n      winner.textContent = \"Wizard melts glock.\";\r\n      return \"loss\";\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateScore() {\r\n  document.querySelector(\".app_wins-userw span\").textContent =\r\n    \"- \" + game.userWin + \" -\";\r\n  document.querySelector(\".app_wins-pcw span\").textContent =\r\n    \"- \" + game.pcWin + \" -\";\r\n}\r\n\r\nfunction checkScore() {\r\n  if (game.userWin == 2 || game.pcWin == 2) {\r\n    options.forEach(option => {\r\n      option.disabled = true;\r\n    });\r\n\r\n    modalWin.style.display = \"grid\";\r\n    document.querySelector(\".modal_winner_body_logged-restart\").textContent =\r\n      \"Play Again\";\r\n    options.forEach(e => {\r\n      e.disabled = true;\r\n    });\r\n\r\n    if (game.userWin == 2) {\r\n      document.querySelector(\".modal_winner_body-message\").textContent =\r\n        \"winner\";\r\n\r\n      if (loggedUserID) {\r\n        userObject.coins = userObject.coins + Number(bet.textContent);\r\n        populateUserInfo(userObject);\r\n        const postData = JSON.stringify(userObject);\r\n        fetch(\r\n          `https://rpsexam-61a3.restdb.io/rest/registeredusers/${loggedUserID}`,\r\n          {\r\n            method: \"put\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json; charset=utf-8\",\r\n              \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n              \"cache-control\": \"no-cache\"\r\n            },\r\n            body: postData\r\n          }\r\n        );\r\n      }\r\n    } else if (game.pcWin == 2) {\r\n      document.querySelector(\".modal_winner_body-message\").textContent =\r\n        \"loser\";\r\n    }\r\n    if (!loggedUserID) {\r\n      document.querySelector(\".modal_winner_body_notlogged\").style.display =\r\n        \"block\";\r\n      document.querySelector(\".modal_winner_body_logged\").style.display =\r\n        \"none\";\r\n    } else {\r\n      document.querySelector(\".modal_winner_body_logged\").style.display =\r\n        \"block\";\r\n      document.querySelector(\".modal_winner_body_notlogged\").style.display =\r\n        \"none\";\r\n      if (userObject.coins == 0) {\r\n        document.querySelector(\".modal_winner_body-message\").textContent =\r\n          \"out of coins\";\r\n        document.querySelector(\r\n          \".modal_winner_body_logged-restart\"\r\n        ).textContent = \"Get 100\";\r\n        userObject.coins = 100;\r\n\r\n        populateUserInfo(userObject);\r\n        const postData = JSON.stringify(userObject);\r\n        fetch(\r\n          `https://rpsexam-61a3.restdb.io/rest/registeredusers/${loggedUserID}`,\r\n          {\r\n            method: \"put\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json; charset=utf-8\",\r\n              \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n              \"cache-control\": \"no-cache\"\r\n            },\r\n            body: postData\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction resetGame() {\r\n  game.userWin = 0;\r\n  game.pcWin = 0;\r\n  updateScore();\r\n  modalWin.style.display = \"none\";\r\n  document.querySelector(\".app_result\").style.visibility = \"hidden\";\r\n  playerh.src = `/hands/hand_Default.svg`;\r\n  computerh.src = `/hands/hand_Default.svg`;\r\n  document.querySelector(\".userh span\").textContent = \"\";\r\n  document.querySelector(\".pch span\").textContent = \"\";\r\n  // options.forEach(e => {\r\n  //   e.disabled = false;\r\n  // });\r\n  bet.style.visibility = \"hidden\";\r\n  modalStart.style.display = \"grid\";\r\n  inputAmount.value = 10;\r\n}\r\n\r\nfunction startGame() {\r\n  options.forEach(e => {\r\n    e.disabled = false;\r\n  });\r\n  modalStart.style.display = \"none\";\r\n  if (loggedUserID) {\r\n    let betAmmount = 2 * Number(inputAmount.value);\r\n    bet.textContent = 0;\r\n\r\n    function betting() {\r\n      setTimeout(function() {\r\n        bet.textContent++;\r\n        if (bet.textContent < betAmmount) {\r\n          betting();\r\n        } else {\r\n          options.forEach(e => {\r\n            e.disabled = false;\r\n          });\r\n        }\r\n      }, 4);\r\n    }\r\n\r\n    betting();\r\n\r\n    bet.style.visibility = \"visible\";\r\n    userObject.coins = userObject.coins - Number(inputAmount.value);\r\n    populateUserInfo(userObject);\r\n\r\n    const postData = JSON.stringify(userObject);\r\n    fetch(\r\n      `https://rpsexam-61a3.restdb.io/rest/registeredusers/${loggedUserID}`,\r\n      {\r\n        method: \"put\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n          \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n          \"cache-control\": \"no-cache\"\r\n        },\r\n        body: postData\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\ndocument\r\n  .querySelector(\".modal_winner_body_notlogged_buttons-signup\")\r\n  .addEventListener(\"click\", e => {\r\n    window.location.hash = \"#signup\";\r\n  });\r\n\r\n(\"use strict\");\r\n\r\n// User object immitating the user in the db\r\n\r\nlet newUser = {\r\n  age: 0,\r\n  bonus_collected: null,\r\n  coins: 300,\r\n  country: \"Antarctica\",\r\n  email: \"email@com\",\r\n  friends: \"\",\r\n  imageName: \"avatar-3\",\r\n  password: \"mypassword\",\r\n  previous_bonus: null,\r\n  review: \"\",\r\n  starRate: 0,\r\n  streak: 7,\r\n  suspended: false,\r\n  username: \"newUser\"\r\n};\r\n\r\nfunction getUsers(valueInput, propertyToCheck) {\r\n  fetch(\"https://rpsexam-61a3.restdb.io/rest/registeredusers\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      data.forEach(el => {\r\n        if (el[propertyToCheck] == valueInput) {\r\n          alert(\"Pick another \" + propertyToCheck + \"!\");\r\n        }\r\n      });\r\n    });\r\n}\r\n\r\ndocument.querySelector(\".signup_form-button\").addEventListener(\"click\", e => {\r\n  e.preventDefault();\r\n\r\n  // Manual form validation due to preventDefault()\r\n  // https://emailregex.com/\r\n  if (\r\n    /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n      document.querySelector(\".signup_form-email input\").value\r\n    )\r\n  ) {\r\n    if (document.querySelector(\".signup_form\").checkValidity()) {\r\n      getInputValues();\r\n    } else {\r\n      document.querySelector(\".signup_form\").reportValidity();\r\n    }\r\n  } else {\r\n    alert(\"wrong email input\");\r\n  }\r\n});\r\n\r\n// Check if the user has typed an already existing username with the db\r\n\r\ndocument\r\n  .querySelector(\".signup_form-username\")\r\n  .addEventListener(\"change\", usernameCheck);\r\n\r\nfunction usernameCheck() {\r\n  let usernameInput = document.querySelector(\".signup_form-username input\")\r\n    .value;\r\n  let username = \"username\";\r\n  getUsers(usernameInput, username);\r\n}\r\n\r\n// Check if the user has typed an already existing email with the db\r\n\r\ndocument\r\n  .querySelector(\".signup_form-email\")\r\n  .addEventListener(\"change\", emailCheck);\r\n\r\nfunction emailCheck() {\r\n  let emailInput = document.querySelector(\".signup_form-email input\").value;\r\n  let email = \"email\";\r\n  getUsers(emailInput, email);\r\n}\r\n\r\n// After the signup button is clicked and if it validates\r\n// we update the user object with input from the user\r\n\r\nfunction getInputValues() {\r\n  let usernameInput = document.querySelector(\".signup_form-username input\")\r\n    .value;\r\n  let emailInput = document.querySelector(\".signup_form-email input\").value;\r\n  let passwordInput = document.querySelector(\".signup_form-password input\")\r\n    .value;\r\n  let countryInput = document.querySelector(\".signup_option_form-country\")\r\n    .textContent;\r\n  let ageInput = document.querySelector(\".signup_form-age input\").value;\r\n\r\n  newUser.username = usernameInput;\r\n  newUser.email = emailInput;\r\n  newUser.password = passwordInput;\r\n  newUser.country = countryInput;\r\n  newUser.age = ageInput;\r\n\r\n  postUser(newUser);\r\n}\r\n\r\n// Send the user to the database\r\n\r\nfunction postUser(user) {\r\n  fetch(\"https://rpsexam-61a3.restdb.io/rest/registeredusers\", {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(e => e.json())\r\n    .then(newUser => {\r\n      window.location.hash = \"#profile\";\r\n      localStorage.setItem(\"RPSuser\", newUser._id);\r\n      loggedUserID = localStorage.getItem(\"RPSuser\");\r\n      document.querySelector(\".modal_winner_body_notlogged\").style.display =\r\n        \"none\";\r\n      document.querySelector(\".modal_winner_body_logged\").style.display =\r\n        \"block\";\r\n      document.querySelector(\".modal_start_body-trial\").style.display = \"none\";\r\n      document.querySelector(\".modal_start_body-logged\").style.display =\r\n        \"block\";\r\n      document.querySelector(\".nav_user-link\").href = \"#profile\";\r\n      document.querySelector(\"#review\").style.display = \"block\";\r\n      document.querySelector(\"div.highscore_sorting\").style.display = \"block\";\r\n      resetGame();\r\n      fetchUser(newUser._id);\r\n    });\r\n}\r\n\r\n// Country select options\r\n\r\nfunction offerSelectOptionsSignup() {\r\n  let selectCountry = document.querySelector(\r\n    \".signup_select_form-country select\"\r\n  );\r\n  let existingOption = document.querySelector(\".signup_option_form-country\")\r\n    .value;\r\n  for (let i = 0; i < countriesArray.length; i++) {\r\n    let option = document.createElement(\"option\");\r\n    if (countriesArray[i].countryName != existingOption) {\r\n      option.setAttribute(\"value\", countriesArray[i].countryName);\r\n      option.textContent = countriesArray[i].countryName;\r\n      option.classList.add(\"fluidCountry\");\r\n      selectCountry.appendChild(option);\r\n    }\r\n  }\r\n}\r\n\r\n// Add the countries options for signup\r\n// Execute after countriesArray is available\r\n\r\nsetTimeout(() => offerSelectOptionsSignup(), 500);\r\n\r\ndocument\r\n  .querySelector(\".signup_select_form-country select\")\r\n  .addEventListener(\"change\", updateSelectSignup);\r\n\r\nfunction updateSelectSignup() {\r\n  let options = document.querySelectorAll(\".signup_select_form-country option\");\r\n  document\r\n    .querySelector(\".signup_option_form-country\")\r\n    .classList.remove(\"signup_option_form-country\");\r\n  options[event.target.selectedIndex].classList.remove(\"fluidCountry\");\r\n  options[event.target.selectedIndex].classList.add(\r\n    \"signup_option_form-country\"\r\n  );\r\n}\r\n\r\nfunction clearSelectOptionsSignup() {\r\n  document.querySelectorAll(\".fluidCountry\").forEach(el => el.remove());\r\n}\r\n\r\n(\"use script\");\r\n\r\n// Declare globally in order to be used anywhere\r\n\r\nlet fluidFriendObject;\r\n\r\n// Execute after userObject is available\r\nfunction getUserFriends() {\r\n  if (loggedUserID) {\r\n    // setTimeout(() => {\r\n    // If the user doesn't have friends, show 5 suggestions\r\n    if (userObject.friends == \"\") {\r\n      document.querySelector(\".friends_current\").style.display = \"none\";\r\n      let num = 5;\r\n      let arraySuggestions = [];\r\n      let userFriends = [\"none\"];\r\n      constructArrUsers(arraySuggestions, num, userFriends);\r\n    } else {\r\n      let userFriends = userObject.friends.split(\",\");\r\n\r\n      // If the user has friends get them from db\r\n      getFriends(userFriends);\r\n\r\n      // If the user has more than three friends, show 1 suggestion\r\n\r\n      if (userFriends.length >= 3) {\r\n        let num = 1;\r\n        let arraySuggestions = [];\r\n        constructArrUsers(arraySuggestions, num, userFriends);\r\n      } else {\r\n        // If the user has less, show 3 suggestions\r\n        let num = 3;\r\n        let arraySuggestions = [];\r\n        constructArrUsers(arraySuggestions, num, userFriends);\r\n      }\r\n    }\r\n    // }, 6500);\r\n  }\r\n}\r\nfunction getFriends(friends) {\r\n  fetch(\"https://rpsexam-61a3.restdb.io/rest/registeredusers\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      data.forEach(el => {\r\n        // If the username from the array of friends matches the username\r\n        // from the database add it as a friend entry\r\n        friends.forEach(friend => {\r\n          if (el.username == friend) {\r\n            addFriendEntry(el);\r\n          }\r\n        });\r\n      });\r\n    });\r\n}\r\n\r\n// Disable buttons\r\n\r\nfunction disableButtons() {\r\n  document.querySelectorAll(\".friends_container button\").forEach(el => {\r\n    el.style.color = \"grey\";\r\n    el.style.border = \"2px solid grey\";\r\n    el.disabled = true;\r\n  });\r\n}\r\n\r\n// Enable buttons\r\n\r\nfunction enableButtons() {\r\n  document.querySelectorAll(\".friends_container button\").forEach(el => {\r\n    el.style.color = \"#5dfdcb\";\r\n    el.style.border = \"2px solid #7186f5\";\r\n    el.disabled = false;\r\n    location.reload();\r\n  });\r\n}\r\n\r\n// Use the standard template for friends\r\n\r\nfunction addFriendEntry(el) {\r\n  let template = document.querySelector(\"#friends-current\").content;\r\n  let parent = document.querySelector(\".friends_current-parent\");\r\n  let clone = template.cloneNode(true);\r\n  clone.querySelector(\".paragraph\").textContent = el.username;\r\n  // Add id to user\r\n  clone.querySelector(\".button\").dataset.uuid = el._id;\r\n  clone.querySelector(\"button\").addEventListener(\"click\", removeFriend);\r\n  parent.appendChild(clone);\r\n  // Create array for the friend for later use\r\n  fluidFriendObject = {};\r\n}\r\n\r\n// Constructing suggestions, takes three parameters\r\n// the empty array for storing suggestions, the number\r\n// of suggestions/users needed to be shown and the\r\n// already existent/inexistent of friends\r\n\r\nfunction constructArrUsers(array, occurences, friends) {\r\n  fetch(\"https://rpsexam-61a3.restdb.io/rest/registeredusers\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(data => {\r\n      let i = 0;\r\n      // j is used to parse through the data backwards\r\n      let j = data.length - 1;\r\n      while (i < occurences && j != 0) {\r\n        // Check for name overlappings\r\n        // If there are, the suggestion is already a friend\r\n        let k = 0;\r\n\r\n        // Check each friend with the selected user from the db\r\n        friends.forEach(friend => {\r\n          if (data[j].username == friend) {\r\n            k++;\r\n          }\r\n        });\r\n\r\n        if (k == 0) {\r\n          array.push(data[j]);\r\n          // Value decreases to check the next user\r\n          j--;\r\n          // Value increases as one suggestion is found\r\n          i++;\r\n        } else {\r\n          j--;\r\n        }\r\n      }\r\n\r\n      addFriendSuggestions(array, occurences, friends);\r\n    });\r\n}\r\n\r\n// Construct suggestion with the standard template\r\n\r\nfunction addFriendSuggestions(array, occurences, friends) {\r\n  let template = document.querySelector(\"#friends-suggestion\").content;\r\n  let parent = document.querySelector(\".friends_suggestion-parent\");\r\n  for (let i = 0; i < occurences; i++) {\r\n    let clone = template.cloneNode(true);\r\n    clone.querySelector(\".paragraph\").textContent = array[i].username;\r\n    clone.querySelector(\".button\").dataset.uuid = array[i]._id;\r\n    clone.querySelector(\".button\").addEventListener(\"click\", addFriend);\r\n    parent.appendChild(clone);\r\n  }\r\n}\r\n\r\n// Adding friends\r\n\r\nfunction addFriend() {\r\n  let suggestedUsername = event.target.parentElement.querySelector(\".paragraph\")\r\n    .textContent;\r\n  // Name convention for the database in order to be able to use str functions effectively\r\n  // Add new friend to logged in user's friends object property\r\n  userObject.friends += \",\" + suggestedUsername;\r\n  event.target.parentElement.remove();\r\n  // Get friend from db through previously stored uuid on element\r\n  getFriend(event.target.dataset.uuid);\r\n  disableButtons();\r\n  setTimeout(() => {\r\n    // Add to the new friend object in the friends object property the logged in user's username\r\n    fluidFriendObject.friends += \",\" + userObject.username;\r\n    // Send both elements to the db for update\r\n    changeStatus(userObject);\r\n    changeStatus(fluidFriendObject);\r\n    addFriendEntry(fluidFriendObject);\r\n  }, 2000);\r\n}\r\n\r\n// Removing friends\r\n\r\nfunction removeFriend() {\r\n  let currentUsername = event.target.parentElement.querySelector(\".paragraph\")\r\n    .textContent;\r\n  currentUsername = \",\" + currentUsername;\r\n  // Clear out friend from logged in user's friends object property\r\n  userObject.friends = userObject.friends.replace(currentUsername, \"\");\r\n  event.target.parentElement.remove();\r\n  getFriend(event.target.dataset.uuid);\r\n  disableButtons();\r\n  setTimeout(() => {\r\n    let loggedInUserUsername = userObject.username;\r\n    loggedInUserUsername = \",\" + loggedInUserUsername;\r\n    let fluidFriends = fluidFriendObject.friends;\r\n    // Clear out logged in user from friend's friends object property\r\n    fluidFriends = fluidFriends.replace(loggedInUserUsername, \"\");\r\n    fluidFriendObject.friends = fluidFriends;\r\n    // Send both elements to the db for update\r\n    changeStatus(userObject);\r\n    changeStatus(fluidFriendObject);\r\n  }, 2000);\r\n}\r\n\r\nfunction getFriend(id) {\r\n  fetch(\"https://rpsexam-61a3.restdb.io/rest/registeredusers/\" + id, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(friend => {\r\n      fluidFriendObject = friend;\r\n    });\r\n}\r\n\r\nfunction changeStatus(editedUser) {\r\n  fetch(\r\n    \"https://rpsexam-61a3.restdb.io/rest/registeredusers/\" + editedUser._id,\r\n    {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        \"x-apikey\": \"5ddfb3cc4658275ac9dc201e\",\r\n        \"cache-control\": \"no-cache\"\r\n      },\r\n      body: JSON.stringify(editedUser)\r\n    }\r\n  )\r\n    .then(e => e.json())\r\n    .then(editedActivity => {\r\n      enableButtons();\r\n    });\r\n}\r\n"]}